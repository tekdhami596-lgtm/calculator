<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>calcualtor</title>
  <!-- <link rel="stylesheet" href="style.css"> -->
   <style>
    body{
  font-family: Arial, Helvetica, sans-serif;
  background-color: rgb(0, 0, 0);
}

.calculation{
  color: white;
  font-size: 45px;
  margin-top: 25px;
  margin-bottom: 35px;
  background-color: rgba(61, 3, 3, 0.867);
  border: 2px solid blue;
  height: 10rem;
}

.calculator-button{
  height: 60px;
  width: 60px;
  border-radius: 60px;
  border: none;
  font-size: 26px;
  cursor: pointer;
  margin-right: 5px;
}

.gray-button{
  background-color: rgb(51, 51, 51);
  color: white;
}

.orange-button{
  background-color: rgb(254, 160, 10);
  color: white;
}

.clear-button{
  font-size: 17px;
}
   </style>
</head>
<body>
  <!-- to display calculation -->
  <p class="js-calculation calculation"></p>
  
  <p>
    <button class="calculator-button gray-button" onclick="updateCalcultion('1')">1</button>
    <button class="calculator-button gray-button" onclick="updateCalcultion('2')">2</button>
    <button class="calculator-button gray-button" onclick="updateCalcultion('3')">3</button>
    <button class="calculator-button gray-button orange-button" onclick="updateCalcultion('+')">+</button>
  </p>

  <p>
    <button class="calculator-button gray-button" onclick="updateCalcultion('4')">4</button>
    <button class="calculator-button gray-button" onclick="updateCalcultion('5')">5</button>
    <button class="calculator-button gray-button" onclick="updateCalcultion('6')">6</button>
    <button class="calculator-button gray-button orange-button" onclick="updateCalcultion('-')">-</button>
  </p>

  <p>
    <button class="calculator-button gray-button" onclick="updateCalcultion('7')">7</button>
    <button class="calculator-button gray-button" onclick="updateCalcultion('8')">8</button>
    <button class="calculator-button gray-button" onclick="updateCalcultion('9')">9</button>
    <button class="calculator-button gray-button orange-button" onclick="updateCalcultion('*')">*</button>
  </p>

  <p>
    <button class="calculator-button gray-button" onclick="updateCalcultion('0')">0</button>
    <button class="calculator-button gray-button" onclick="updateCalcultion('.')">.</button>
    
    
    <button class="calculator-button gray-button orange-button" onclick="
    calculation = eval(calculation);
    displayCalculation();
    localStorage.setItem('calculation',calculation);
    ">=</button>

    <button class="calculator-button orange-button" onclick="updateCalcultion('/')">/</button>
  </p>

  <p>
   <button class="calculator-button gray-button clear-button" onclick="
    calculation ='';
    displayCalculation();
    localStorage.setItem('calculation',calculation);
    ">Clear</button> 
  </p>

  <script>
    let calculation = localStorage.getItem('calculation')|| '';
    displayCalculation();

function updateCalcultion(value){
  calculation += value;
  displayCalculation();
  localStorage.setItem('calculation',calculation);
}

function displayCalculation(){
  document.querySelector('.js-calculation')
  .innerHTML=calculation;
}

// keyboard events added

document.addEventListener('keydown', (event)=>{
  const key = event.key;

  // number keys (0-9) and dot

   if(!isNaN(key)||key ==='.'){
    updateCalcultion(key);
   }

  //  operators : + - * /

  if (['+', '-', '*', '/'].includes(key)){
    updateCalcultion(key);
  }

  // enter calculate

  if(key ==='Enter'){
    try{
      calculation=eval(calculation);
    } 
    catch{
      calculation = 'error';
    }
    displayCalculation();
    localStorage.setItem('calculation', calculation);
  }

   // Backspace = delete last char
    if(key === 'Backspace') {
      calculation = calculation.slice(0, -1);
      displayCalculation();
      localStorage.setItem('calculation', calculation);
    }

  // escape = clear

  if(key==='Escape'){
    calculation = '';
    displayCalculation();
    localStorage.setItem('calculation', calculation);
  }


})
  </script>
</body>
</html>